# ============================================================
# Digital Towns Environment Configuration
# ============================================================
# Copy this file to .env and fill in your values
# Never commit .env to version control!
# ============================================================

# ============ APPLICATION ============
NODE_ENV=development
PORT=3000

# Town Configuration
TOWN_ID=1
TOWN_NAME=Sebastian
TOWN_SLUG=sebastian
PUBLIC_BASE_URL=http://localhost:3000

# Lockdown mode (set to true to restrict access during maintenance)
LOCKDOWN_MODE=false

# ============ DATABASE ============
# PostgreSQL connection string
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://localhost:5432/digitaltowns

# ============ REDIS ============
# Redis connection string for caching, sessions, and job queues
# Format: redis://user:password@host:port
REDIS_URL=redis://localhost:6379

# ============ SECURITY ============
# Session secret (generate with: openssl rand -hex 32)
SESSION_SECRET=your-session-secret-here

# JWT secret for auth service (generate with: openssl rand -hex 32)
JWT_SECRET=your-jwt-secret-here
JWT_EXPIRES_IN=7d

# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000

# ============ STRIPE PAYMENTS ============
# Get these from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...
STRIPE_PRICE_ID=price_...

# Stripe redirect URLs
STRIPE_SUCCESS_URL=http://localhost:3000/pay/success?orderId={ORDER_ID}
STRIPE_CANCEL_URL=http://localhost:3000/pay/cancel?orderId={ORDER_ID}

# ============ EMAIL (SMTP) ============
# SMTP configuration for transactional emails
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-smtp-user
SMTP_PASS=your-smtp-password
EMAIL_FROM=noreply@digitaltowns.com

# Resend API (alternative to SMTP)
RESEND_API_KEY=

# Admin notification emails
ADMIN_NOTIFICATION_EMAIL=admin@digitaltowns.com
ADMIN_NOTIFY_EMAILS=

# ============ AWS S3 / CLOUDFLARE R2 ============
# For file/image uploads
R2_ACCOUNT_ID=
R2_ACCESS_KEY_ID=
R2_SECRET_ACCESS_KEY=
R2_BUCKET=
R2_PUBLIC_BASE_URL=

# Legacy S3 config (if not using R2)
S3_BUCKET=
S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=

# ============ BACKBLAZE B2 (BACKUPS) ============
# For database backup storage
B2_KEY_ID=
B2_APP_KEY=
B2_BUCKET_NAME=digitaltowns-backups
BACKUP_ENCRYPTION_KEY=
BACKUP_SCHEDULE=0 2 * * *

# ============ OAUTH (OPTIONAL) ============
# Facebook OAuth (optional - app works without it)
# Get from https://developers.facebook.com/apps/
FACEBOOK_APP_ID=
FACEBOOK_APP_SECRET=
FACEBOOK_CALLBACK_URL=http://localhost:3000/auth/facebook/callback

# Google OAuth (optional)
# Get from https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=http://localhost:3000/auth/google/callback

# ============ HUBSPOT CRM (OPTIONAL) ============
# For CRM integration
# Get from https://app.hubspot.com/
HUBSPOT_API_KEY=
HUBSPOT_PORTAL_ID=

# ============ CLOUDFLARE (OPTIONAL) ============
# For Cloudflare Calls (live streaming)
CF_CALLS_APP_ID=
CF_CALLS_APP_SECRET=
CF_CALLS_BASE_URL=https://api.cloudflare.com/client/v4

# ============ ADMIN ============
# Comma-separated list of admin email addresses
ADMIN_EMAILS=
ADMIN_LOGIN_PASSPHRASE=

# ============ INTERNAL SERVICES ============
# URLs for internal microservices (used in production)
AUTH_SERVICE_URL=http://auth-service:3002
CRM_SERVICE_URL=http://crm-service:3001

# ============ SWEEPSTAKES ============
SWEEP_TEST_MODE=false
SWEETSTAKE_ANNOUNCE_CHANNEL_ID=

# ============ DEBUG ============
SHOW_AUTH_CODE=false

# ============ MONITORING ============
# Sentry error monitoring (get DSN from https://sentry.io)
SENTRY_DSN=
# Force Sentry in development (normally only enabled in production)
SENTRY_FORCE_ENABLE=false
